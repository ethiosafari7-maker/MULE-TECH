<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MULE TECH | Professional Solution</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden { display: none; }
        #wheel-container { position: relative; width: 320px; height: 320px; margin: 15px auto; }
        #wheel { width: 100%; height: 100%; border-radius: 50%; border: 10px solid #1E40AF; transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1); }
        .pointer { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 35px; height: 35px; background: #EF4444; clip-path: polygon(50% 100%, 0 0, 100% 0); z-index: 20; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); }
        .input-error { border: 2px solid #EF4444 !important; background-color: #FEF2F2; }
        .valid-icon { color: #10B981; font-weight: bold; font-size: 1.2rem; display: none; position: absolute; right: 15px; }
        select { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%231E40AF'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 1.2em; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl p-8 border-t-[10px] border-blue-700">
        <div class="text-center mb-6">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%231E40AF'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='white' font-size='30' font-family='Arial' dy='.3em'%3EMULE%3C/text%3E%3C/svg%3E" alt="Mule Tech Logo" class="w-24 h-24 mx-auto rounded-full shadow-lg border-4 border-white mb-2">
            <h1 class="text-3xl font-black text-blue-900 italic tracking-tight">MULE TECH</h1>
            
            <div class="mt-4">
                <select onchange="changeLang(this.value)" class="w-full p-2.5 border-2 border-blue-200 rounded-2xl outline-none appearance-none font-bold text-blue-800 bg-blue-50 text-sm">
                    <option value="am">·ä†·àõ·à≠·äõ (Amharic)</option>
                    <option value="en">English</option>
                    <option value="or">Afaan Oromoo</option>
                    <option value="tg">·âµ·åç·à≠·äõ (Tigrinya)</option>
                </select>
            </div>
        </div>

        <div id="page1">
            <h2 id="reg-title" class="text-lg font-bold text-slate-700 mb-5 flex items-center gap-2">üë§ ·ã®·åç·àç ·àò·à®·åÉ·ãé·äï ·ã´·àµ·åà·â°</h2>
            <div class="space-y-4">
                <div class="relative flex items-center"><input type="text" id="fname" placeholder="First Name *" class="w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all" oninput="vField(this, 'name')"><span class="valid-icon">‚úÖ</span></div>
                <div class="relative flex items-center"><input type="text" id="mname" placeholder="Father Name *" class="w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all" oninput="vField(this, 'name')"><span class="valid-icon">‚úÖ</span></div>
                <div class="relative flex items-center"><input type="text" id="lname" placeholder="Grandfather Name *" class="w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all" oninput="vField(this, 'name')"><span class="valid-icon">‚úÖ</span></div>
                <div class="relative flex items-center"><input type="email" id="email" placeholder="example@gmail.com *" class="w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all" oninput="vField(this, 'email')"><span class="valid-icon">‚úÖ</span></div>
                <div class="relative flex items-center"><input type="text" id="phone" placeholder="Phone (09/07...) *" maxlength="10" class="w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all" oninput="vField(this, 'phone')"><span class="valid-icon">‚úÖ</span></div>
                
                <div class="flex items-start gap-2 p-2 bg-slate-50 rounded-xl border border-slate-200">
                    <input type="checkbox" id="rule-check" class="mt-1 w-4 h-4 rounded">
                    <label for="rule-check" class="text-xs text-slate-600 leading-tight">·àÅ·àâ·äï·àù ·ã® MULE TECH ·àÖ·åé·âΩ ·ä•·äì ·ã∞·äï·â¶·âΩ (Rules & Regulations) ·ä†·äï·â•·â§ ·â∞·àµ·àõ·àù·âª·àà·àÅ·ç¢</label>
                </div>
            </div>
            <button onclick="toWheel()" class="w-full bg-blue-700 text-white mt-6 py-4 rounded-[1.5rem] font-black text-lg hover:bg-blue-800 shadow-xl transform active:scale-95 transition-all">·âÄ·å•·àç (NEXT) ‚û°Ô∏è</button>
        </div>

        <div id="page2" class="hidden text-center">
            <button onclick="backTo(1)" class="float-left text-blue-700 font-bold mb-2 flex items-center gap-1">‚¨ÖÔ∏è Back</button>
            <div class="clear-both"></div>
            <h2 class="text-xl font-black text-blue-800 mb-2" id="wheel-title">üé° ·ä•·ãµ·àç·ãé·äï ·ã≠·àû·ä≠·à©!</h2>
            <div id="wheel-container">
                <div class="pointer"></div>
                <canvas id="wheel"></canvas>
            </div>
            <button id="spin-btn" onclick="spinNow()" class="w-full bg-blue-700 text-white py-4 rounded-2xl font-black text-xl shadow-xl hover:shadow-blue-200 active:scale-95 transition-all">·ä†·àΩ·ä®·à≠·ä≠·à≠ (SPIN) üåÄ</button>
        </div>

        <div id="page3" class="hidden text-center">
            <h2 id="result-msg" class="text-3xl font-black mb-6 text-blue-900"></h2>
            
            <div id="win-box" class="hidden">
                <div class="bg-blue-50 p-8 rounded-[2rem] border-4 border-dashed border-blue-400 mb-6">
                    <p class="text-blue-600 font-bold text-sm uppercase tracking-widest mb-2">Order ID Generated</p>
                    <h3 id="order-id" class="text-5xl font-mono font-black text-blue-800"></h3>
                </div>
            </div>

            <div id="paid-box" class="hidden">
                <div class="bg-orange-50 p-6 rounded-[2rem] border-2 border-orange-200 mb-6 text-left">
                    <p class="text-orange-800 font-bold mb-4">·ã≠·àÖ ·ä†·åà·àç·åç·àé·âµ ·â†·ä≠·çç·ã´ ·ã®·àö·à∞·å• ·äê·ãç·ç¢ ·ã®·àö·çà·àç·åâ·âµ·äï ·äÆ·à≠·àµ ·ã≠·àù·à®·å°·ç°</p>
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between p-3 bg-white rounded-xl border border-orange-100"><span>Video Editing</span> <b>400 ETB</b></div>
                        <div class="flex justify-between p-3 bg-white rounded-xl border border-orange-100"><span>Graphics Design</span> <b>400 ETB</b></div>
                        <div class="flex justify-between p-3 bg-white rounded-xl border border-orange-100"><span>Free Internet</span> <b>400 ETB</b></div>
                        <div class="flex justify-between p-3 bg-white rounded-xl border border-orange-100"><span>Social Management</span> <b>500 ETB</b></div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <a href="https://youtube.com/@muletechreact" class="bg-red-600 text-white py-4 rounded-2xl font-bold text-sm">Subscribe YouTube</a>
                <a href="https://t.me/muletechreact" class="bg-sky-500 text-white py-4 rounded-2xl font-bold text-sm">Join Telegram</a>
            </div>
            <button onclick="location.reload()" class="w-full mt-4 text-slate-400 font-bold text-xs uppercase tracking-widest">Restart System</button>
        </div>
    </div>

    <script>
        const langData = {
            am: { reg: "üë§ ·ã®·åç·àç ·àò·à®·åÉ·ãé·äï ·ã´·àµ·åà·â°", wheel: "üé° ·ä•·ãµ·àç·ãé·äï ·ã≠·àû·ä≠·à©!", next: "·âÄ·å•·àç (NEXT) ‚û°Ô∏è" },
            en: { reg: "üë§ Enter Your Info", wheel: "üé° Spin Your Luck!", next: "NEXT ‚û°Ô∏è" },
            or: { reg: "üë§ Odeeffannoo Keessan", wheel: "üé° Carraa Yaalaa!", next: "NEXT ‚û°Ô∏è" },
            tg: { reg: "üë§ ·àì·â†·à¨·â≥·äπ·àù ·ã®·ä•·âµ·ãâ", wheel: "üé° ·ãï·ãµ·àç·ä©·àù ·çà·âµ·äë!", next: "NEXT ‚û°Ô∏è" }
        };

        function changeLang(l) {
            document.getElementById('reg-title').innerText = langData[l].reg;
            document.getElementById('wheel-title').innerText = langData[l].wheel;
        }

        function vField(el, type) {
            let valid = false;
            if (type === 'name') valid = el.value.trim().length >= 3;
            if (type === 'email') valid = el.value.toLowerCase().endsWith('@gmail.com');
            if (type === 'phone') valid = el.value.length === 10 && (el.value.startsWith('09') || el.value.startsWith('07'));
            
            el.classList.toggle('input-error', !valid && el.value.length > 0);
            el.parentElement.querySelector('.valid-icon').style.display = valid ? 'block' : 'none';
        }

        function toWheel() {
            const fields = ['fname', 'mname', 'lname', 'email', 'phone'];
            let allOk = true;
            fields.forEach(id => {
                const el = document.getElementById(id);
                const icon = el.parentElement.querySelector('.valid-icon').style.display;
                if (icon !== 'block') {
                    el.classList.add('input-error');
                    allOk = false;
                }
            });

            if (!document.getElementById('rule-check').checked) {
                alert("·ä•·â£·ä≠·ãé ·àÖ·åé·âπ·äï ·àò·àµ·àõ·àõ·âµ·ãé·äï ·ã´·à®·åã·åç·å°!");
                allOk = false;
            }

            if (allOk) {
                document.getElementById('page1').classList.add('hidden');
                document.getElementById('page2').classList.remove('hidden');
            }
        }

        function backTo(p) {
            document.getElementById('page2').classList.add('hidden');
            document.getElementById('page1').classList.remove('hidden');
        }

        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const mainPrizes = ["Video Editing", "Graphics Design", "Free Internet", "Social Management"];
        const extraPrizes = ["Subscribe YouTube", "Join Telegram", "Subscribe YouTube", "Join Telegram", "Subscribe YouTube", "Join Telegram"];
        const items = [...mainPrizes, ...extraPrizes];
        const colors = ["#1E40AF", "#1D4ED8", "#2563EB", "#3B82F6", "#60A5FA", "#93C5FD"];

        function drawWheel() {
            const arc = (2 * Math.PI) / items.length;
            canvas.width = 320; canvas.height = 320;
            items.forEach((item, i) => {
                ctx.beginPath(); ctx.fillStyle = colors[i % colors.length];
                ctx.moveTo(160, 160); ctx.arc(160, 160, 150, i * arc, (i + 1) * arc); ctx.fill();
                ctx.save(); ctx.translate(160, 160); ctx.rotate(i * arc + arc / 2);
                ctx.fillStyle = "white"; ctx.font = "bold 11px Arial"; ctx.fillText(item, 70, 5); ctx.restore();
            });
        }
        drawWheel();

        let rot = 0;
        function spinNow() {
            document.getElementById('spin-btn').disabled = true;
            const stopAt = Math.floor(3000 + Math.random() * 4000);
            rot += stopAt;
            canvas.style.transform = `rotate(${rot}deg)`;
            setTimeout(() => {
                const actual = rot % 360;
                const idx = items.length - 1 - Math.floor(actual / (360 / items.length));
                showResult(items[idx]);
            }, 5000);
        }

        async function showResult(prize) {
            const isMain = mainPrizes.includes(prize);
            const orderId = isMain ? "MULE" + Math.floor(100 + Math.random() * 899) : null;
            
            document.getElementById('page2').classList.add('hidden');
            document.getElementById('page3').classList.remove('hidden');
            document.getElementById('result-msg').innerText = prize;

            if(isMain) {
                document.getElementById('win-box').classList.remove('hidden');
                document.getElementById('order-id').innerText = orderId;
            } else {
                document.getElementById('paid-box').classList.remove('hidden');
            }

            const data = {
                id: orderId || "PAID_SERVICE",
                name: `${document.getElementById('fname').value} ${document.getElementById('mname').value}`,
                phone: document.getElementById('phone').value,
                prize: prize
            };

            const text = `üéØ MULE TECH SPIN\nID: ${data.id}\nüë§ Client: ${data.name}\nüìû Phone: ${data.phone}\nüéÅ Result: ${prize}`;
            fetch(`https://api.telegram.org/bot8477843612:AAFQxTf8e5XuVTVOvWPUK9AlMY2KsqwBiDc/sendMessage?chat_id=1312047180&text=${encodeURIComponent(text)}`);
        }
    </script>
</body>
</html>
