<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MULE TECH | Advanced Spin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .hidden { display: none; }
        #wheel-container { position: relative; width: 320px; height: 320px; margin: 20px auto; }
        #wheel { width: 100%; height: 100%; border-radius: 50%; border: 8px solid #1E88E5; transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1); }
        .pointer { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 30px; height: 30px; background: red; clip-path: polygon(50% 100%, 0 0, 100% 0); z-index: 20; }
        .valid-icon { color: #22c55e; font-weight: bold; font-size: 1.2rem; display: none; margin-left: -25px; z-index: 10; }
    </style>
</head>
<body class="bg-gray-100 p-2 sm:p-4">

    <div class="max-w-md mx-auto bg-white rounded-3xl shadow-2xl p-6 border-t-8 border-blue-600">
        <div class="text-center mb-6">
            <img src="https://i.ibb.co/mC3Yf3f/20730.jpg" alt="Logo" class="w-28 h-28 mx-auto rounded-full border-4 border-blue-500">
            <h1 class="text-3xl font-black text-blue-800 mt-2 italic">MULE TECH</h1>
            
            <div class="flex flex-wrap justify-center gap-2 mt-4">
                <button onclick="changeLang('am')" class="bg-blue-50 px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-200">áŠ áˆ›áˆ­áŠ›</button>
                <button onclick="changeLang('en')" class="bg-blue-50 px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-200">English</button>
                <button onclick="changeLang('or')" class="bg-blue-50 px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-200">Afaan Oromoo</button>
                <button onclick="changeLang('tg')" class="bg-blue-50 px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-200">á‰µáŒáˆ­áŠ›</button>
            </div>
        </div>

        <div id="page1">
            <h2 id="reg-title" class="text-center font-bold text-gray-700 mb-4">ğŸ“ á‹¨áŒáˆ áˆ˜áˆ¨áŒƒá‹áŠ• á‹«áˆµáŒˆá‰¡</h2>
            <div class="space-y-4">
                <div class="flex items-center"><input type="text" id="fname" placeholder="First Name *" class="w-full p-3 border rounded-xl outline-none focus:border-blue-500" oninput="vName(this)"><span class="valid-icon" id="v-fname">âœ…</span></div>
                <div class="flex items-center"><input type="text" id="mname" placeholder="Father Name *" class="w-full p-3 border rounded-xl outline-none" oninput="vName(this)"><span class="valid-icon" id="v-mname">âœ…</span></div>
                <div class="flex items-center"><input type="text" id="lname" placeholder="Grandfather Name *" class="w-full p-3 border rounded-xl outline-none" oninput="vName(this)"><span class="valid-icon" id="v-lname">âœ…</span></div>
                <div class="flex items-center"><input type="email" id="email" placeholder="example@gmail.com *" class="w-full p-3 border rounded-xl outline-none" oninput="vEmail(this)"><span class="valid-icon" id="v-email">âœ…</span></div>
                <div class="flex items-center"><input type="text" id="phone" placeholder="Phone (09/07... 10 digit) *" maxlength="10" class="w-full p-3 border rounded-xl outline-none" oninput="vPhone(this)"><span class="valid-icon" id="v-phone">âœ…</span></div>
                <input type="text" id="rel_addr" placeholder="Relative's Address *" class="w-full p-3 border rounded-xl outline-none">
            </div>
            <button onclick="nextPage()" id="next-btn" class="w-full bg-blue-600 text-white mt-6 py-4 rounded-2xl font-black text-lg hover:bg-blue-700 shadow-lg">NEXT â¡ï¸</button>
        </div>

        <div id="page2" class="hidden text-center">
            <h2 class="text-xl font-black text-orange-600 mb-2" id="wheel-title">ğŸ¡ á‹¨áŠ¥á‹µáˆ áŒáˆ›á‹áŠ• á‹«áˆ½áŠ¨áˆ­áŠ­áˆ©!</h2>
            <div id="wheel-container">
                <div class="pointer"></div>
                <canvas id="wheel"></canvas>
            </div>
            <button id="spin-btn" onclick="spinNow()" class="w-full bg-blue-700 text-white py-4 rounded-2xl font-black text-xl shadow-xl border-b-4 border-blue-900 active:translate-y-1 transition">SPIN NOW ğŸŒ€</button>
        </div>

        <div id="page3" class="hidden text-center">
            <div id="result-icon" class="text-7xl mb-4">ğŸ†</div>
            <h2 id="result-msg" class="text-2xl font-black mb-4"></h2>
            <div id="order-box" class="bg-blue-50 p-4 rounded-2xl mb-4 hidden border-2 border-dashed border-blue-400">
                <p class="text-gray-500 text-sm">Order ID:</p>
                <h3 id="order-id" class="text-3xl font-mono font-bold text-blue-700"></h3>
            </div>
            <div id="payment-box" class="bg-yellow-50 p-4 rounded-2xl mb-4 hidden border border-yellow-300">
                <p class="text-sm font-bold text-orange-700">á‹­áˆ… áˆµáŒ¦á‰³ á‰ áŠ­áá‹« á‹¨áˆšáˆ°áŒ¥ áŠá‹á¢ áŠ¥á‰£áŠ­á‹ á‰ á‹áˆµáŒ¥ áˆ˜áˆµáˆ˜áˆ­ á‹«áŠáŒ‹áŒáˆ©áŠ•!</p>
            </div>
            <div class="grid grid-cols-1 gap-3 mt-6">
                <a href="https://youtube.com/@muletechreact" class="bg-red-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2">YouTube Subscribe</a>
                <a href="https://t.me/muletechreact" class="bg-sky-500 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2">Join Telegram</a>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const mainCourses = ["Video Editing", "Graphics Design", "Free Internet", "Social Mgmt"];
        const subs = ["YT 1 ğŸ”º", "YT 2 ğŸ”º", "YT 3 ğŸ”º", "YT 4 ğŸ”º", "YT 5 ğŸ”º", "YT 6 ğŸ”º", "YT 7 ğŸ”º"];
        const tg = ["TG 1 ğŸ”¹", "TG 2 ğŸ”¹", "TG 3 ğŸ”¹", "TG 4 ğŸ”¹"];
        const items = [...mainCourses, ...subs, ...tg];
        const colors = ["#1E40AF", "#F59E0B", "#10B981", "#EC4899", "#6366F1", "#8B5CF6"];

        const langData = {
            am: { reg: "ğŸ“ á‹¨áŒáˆ áˆ˜áˆ¨áŒƒá‹áŠ• á‹«áˆµáŒˆá‰¡", wheel: "ğŸ¡ á‹¨áŠ¥á‹µáˆ áŒáˆ›á‹áŠ• á‹«áˆ½áŠ¨áˆ­áŠ­áˆ©!", next: "á‰€áŒ¥áˆ" },
            en: { reg: "ğŸ“ Enter Personal Info", wheel: "ğŸ¡ Spin Your Luck!", next: "NEXT" },
            or: { reg: "ğŸ“ Odeeffannoo Keessan Galchaa", wheel: "ğŸ¡ Carraa Keessan Yaalaa!", next: "ITTI FUFI" },
            tg: { reg: "ğŸ“ áˆ“á‰ áˆ¬á‰³áŠ¹áˆ á‹¨áŠ¥á‰µá‹‰", wheel: "ğŸ¡ á‹•á‹µáˆáŠ©áˆ áˆá‰µáŠ‘!", next: "á‰€áŒ½áˆ" }
        };

        function changeLang(l) {
            document.getElementById('reg-title').innerText = langData[l].reg;
            document.getElementById('wheel-title').innerText = langData[l].wheel;
            document.getElementById('next-btn').innerText = langData[l].next;
        }

        // Validation Logic
        function vName(el) { el.nextElementSibling.style.display = el.value.length >= 3 ? 'block' : 'none'; }
        function vEmail(el) { el.nextElementSibling.style.display = el.value.toLowerCase().endsWith('@gmail.com') ? 'block' : 'none'; }
        function vPhone(el) { el.nextElementSibling.style.display = (el.value.length === 10 && (el.value.startsWith('09') || el.value.startsWith('07'))) ? 'block' : 'none'; }

        function drawWheel() {
            const size = items.length; const arc = (2 * Math.PI) / size;
            canvas.width = 320; canvas.height = 320;
            items.forEach((item, i) => {
                ctx.beginPath(); ctx.fillStyle = colors[i % colors.length];
                ctx.moveTo(160, 160); ctx.arc(160, 160, 150, i * arc, (i + 1) * arc); ctx.fill();
                ctx.save(); ctx.translate(160, 160); ctx.rotate(i * arc + arc / 2);
                ctx.fillStyle = "white"; ctx.font = "bold 10px Arial"; ctx.fillText(item, 70, 5); ctx.restore();
            });
        }
        drawWheel();

        function nextPage() {
            const v = (id) => document.getElementById('v-'+id).style.display === 'block';
            if(v('fname') && v('mname') && v('lname') && v('email') && v('phone') && document.getElementById('rel_addr').value !== "") {
                document.getElementById('page1').classList.add('hidden');
                document.getElementById('page2').classList.remove('hidden');
            } else { alert("Please complete all fields correctly!"); }
        }

        let rotation = 0;
        function spinNow() {
            document.getElementById('spin-btn').disabled = true;
            const extra = Math.floor(3000 + Math.random() * 2000);
            rotation += extra;
            canvas.style.transform = `rotate(${rotation}deg)`;
            setTimeout(() => {
                const actual = rotation % 360;
                const index = items.length - 1 - Math.floor(actual / (360 / items.length));
                showResult(items[index]);
            }, 5000);
        }

        async function showResult(prize) {
            const isMain = mainCourses.includes(prize);
            const orderId = isMain ? "Mule" + Math.floor(100 + Math.random() * 899) : null;
            
            document.getElementById('page2').classList.add('hidden');
            document.getElementById('page3').classList.remove('hidden');
            document.getElementById('result-msg').innerText = "áŠ¥á‹µáˆá‹: " + prize;

            if(isMain) {
                document.getElementById('order-box').classList.remove('hidden');
                document.getElementById('order-id').innerText = orderId;
            } else {
                document.getElementById('payment-box').classList.remove('hidden');
                document.getElementById('result-icon').innerText = "ğŸ’¡";
            }

            const u = {
                name: `${document.getElementById('fname').value} ${document.getElementById('mname').value} ${document.getElementById('lname').value}`,
                email: document.getElementById('email').value, phone: document.getElementById('phone').value,
                rel: document.getElementById('rel_addr').value
            };

            const report = `ğŸ”” NEW SPIN!\nğŸ†” Order ID: ${orderId || 'None (Paid)'}\nğŸ‘¤ Client: ${u.name}\nğŸ“§ Email: ${u.email}\nğŸ“ Phone: ${u.phone}\nğŸ“ Address: ${u.rel}\nğŸ Won: ${prize}`;
            
            await fetch(`https://api.telegram.org/bot8477843612:AAFQxTf8e5XuVTVOvWPUK9AlMY2KsqwBiDc/sendMessage?chat_id=1312047180&text=${encodeURIComponent(report)}`);
        }
    </script>
</body>
</html>
